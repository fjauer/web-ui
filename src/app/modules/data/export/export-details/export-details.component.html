<!--
  ~ Copyright 2020 InfAI (CC SES)
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="main-panel">
    <div fxLayout="column" class="layout-margin">
        <div fxLayout="row" fxLayoutAlign="start center" style="margin-bottom:8px;">
            <button mat-raised-button color="accent" routerLink="/data/export">back</button>
        </div>
        <mat-card *ngIf="ready">
            <mat-card-header>
                <mat-card-title>{{export.Name}}</mat-card-title>
                <mat-card-subtitle>{{export.Description}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <mat-list>
                    <mat-list-item>
                        <mat-icon *ngIf="export.FilterType === 'deviceId'" mat-list-icon>
                            router
                        </mat-icon>
                        <mat-icon *ngIf="export.FilterType === 'pipeId'" mat-list-icon>
                            timeline
                        </mat-icon>
                        <h4 mat-line *ngIf="export.FilterType === 'deviceId'">Device</h4>
                        <h4 mat-line *ngIf="export.FilterType === 'pipeId'">Pipeline</h4>
                        <p mat-line>{{export.EntityName}} </p>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                    <mat-list-item>
                        <mat-icon mat-list-icon>folder</mat-icon>
                        <h4 mat-line>Measurement</h4>
                        <p mat-line>{{export.Measurement}} </p>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                    <mat-list-item>
                        <mat-icon mat-list-icon>alarm</mat-icon>
                        <h4 mat-line>TimePath</h4>
                        <p mat-line>{{export.TimePath}}</p>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                    <mat-list-item>
                        <mat-icon mat-list-icon>date_range</mat-icon>
                        <h4 mat-line>CreatedAt</h4>
                        <p mat-line>{{export.CreatedAt | date:'dd.MM.yyyy - HH:mm' }}</p>
                        <mat-divider></mat-divider>
                    </mat-list-item>
                    <mat-list-item>
                        <mat-icon mat-list-icon>code</mat-icon>
                        <h4 mat-line>Values</h4>
                        <p mat-line *ngFor="let val of export.Values">
                            {{ val.Name }} | {{ val.Path }} | {{ val.Type }}
                        </p>
                    </mat-list-item>
                </mat-list>
            </mat-card-content>
        </mat-card>
        <senergy-spinner [elementCount]="1" [show]="!ready"></senergy-spinner>
    </div>
</div>